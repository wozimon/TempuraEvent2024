<!DOCTYPE html>
<html>
<head>
<title>Новогодний арт</title>
<style>
body {
  margin: 0;
  overflow: hidden;
}

.container {
  position: relative;
  width: 100%;
  height: 100vh; /* Высота равна высоте окна просмотра */
}

.layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* Игнорируем события мыши для всех слоев */
}

/* ... стили для .layer-1 - .layer-8 ... */

.layer-1 {
  z-index: 1;
  overflow: hidden;
}

.layer-1 .comet {
  position: absolute;
  width: 2px;
  height: 150px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 1) 100%);
  transform-origin: top;
  animation: comet-fall linear infinite;
}

@keyframes comet-fall {
  0% {
    top: -150px;
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  100% {
    top: 100%;
    opacity: 0;
  }
}

.layer-2 {
  z-index: 2;
}

.layer-3 {
  z-index: 3;
}

.layer-4 {
  z-index: 4;
}

.layer-5 {
  z-index: 5;
}

.layer-6 {
  z-index: 6;
  opacity: 0.75;
  animation: flicker 3s linear infinite;
}

.layer-7 {
  z-index: 7;
  mix-blend-mode: multiply;
  opacity: 0.37;
}

.layer-8 {
  z-index: 8;
  mix-blend-mode: screen;
  opacity: 0.68;
  animation: flicker-8 3s linear infinite;
}

@keyframes flicker {
  0% {
    opacity: 0.75;
  }
  50% {
    opacity: 0.55;
  }
  100% {
    opacity: 0.75;
  }
}

@keyframes flicker-8 {
  0% {
    opacity: 0.68;
  }
  50% {
    opacity: 0.58;
  }
  100% {
    opacity: 0.68;
  }
}

.sprite {
  position: absolute;
  cursor: pointer;
  transition: filter 0.2s ease;
  pointer-events: auto;
  /* Оставляем размеры в пикселях, т.к. они привязаны к исходному размеру спрайта */
}

.sprite:hover {
  filter: brightness(1.2) drop-shadow(0 0 10px rgba(0, 0, 0, 0.5));
}

/* Стили для информационного окна */
.info-box {
  position: absolute;
  z-index: 1000; /* Окно поверх всего */
  background-color: rgba(255, 255, 255, 0.9);
  border: 1px solid #ccc;
  padding: 10px;
  border-radius: 5px;
  display: none; /* Скрыто по умолчанию */
  opacity: 0;
  transform: translateY(-20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.info-box.active {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

.info-box h3 {
  margin-top: 0;
}
</style>
</head>
<body>
<div class="container">
  <div class="layer layer-1">
    <img src="https://i.imgur.com/6qIuQuz.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-2">
    <img src="https://i.imgur.com/dmrsC8v.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-3">
    <img src="https://i.imgur.com/KeLL4EA.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-4">
    <img src="https://i.imgur.com/cXztsxD.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-5">
    <img src="https://i.imgur.com/h6jNXEv.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-6">
    <img src="https://i.imgur.com/rLGm76A.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-7">
    <img src="https://i.imgur.com/O5w4ikX.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <div class="layer layer-8">
    <img src="https://i.imgur.com/gETZBAb.png" style="width: 100%; height: 100%; object-fit: cover;">
  </div>
  <img src="https://i.imgur.com/asPwl6l.png"
    class="sprite"
    data-name="Дима"
    data-description="Хуесос мелкий"
    data-layer="1.5"
    data-x="0.835" data-y="0.229"
    data-info-x-offset="-250"
    data-info-y-offset="-120"
    style="width: 130px; z-index: 2;">
  <img src="https://i.imgur.com/0hVMxn0.png"
    class="sprite"
    data-name="Рорамбер"
    data-description="Играман и гений мысли"
    data-layer="3.5"
    data-x="-0.005" data-y="0.538"
    data-info-x-offset="-160"
    data-info-y-offset="-130"
    style="width: 200px; z-index: 3;">
  <img src="https://i.imgur.com/q5VmKKZ.png"
    class="sprite"
    data-name="Максимлолиоп"
    data-description="Базированый"
    data-layer="3.5"
    data-x="0.1490" data-y="0.4020"
    data-info-x-offset="-100"
    data-info-y-offset="-100"
    style="width: 115px; z-index: 3;">
  <img src="https://i.imgur.com/2UMSSUH.png"
    class="sprite"
    data-name="Темпура"
    data-description="Маскот сервера"
    data-layer="6.5"
    data-x="0.730" data-y="0.370"
    data-info-x-offset="-220"
    data-info-y-offset="-50"
    style="width: 180px; z-index: 6;">
  <img src="https://i.imgur.com/qO1yQEa.png"
    class="sprite"
    data-name="Бабай"
    data-description="Не сделал уроки"
    data-layer="5.5"
    data-x="0.399" data-y="0.405"
    data-info-x-offset="-150"
    data-info-y-offset="-70"
    style="width: 170px; z-index: 5;">
    <img src="https://i.imgur.com/wS6fnj8.png"
    class="sprite"
    data-name="Ребека и Роберт"
    data-description="#### :)"
    data-layer="5.5"
    data-x="0.495" data-y="0.437"
    data-info-x-offset="-160"
    data-info-y-offset="-100"
    style="width: 190px; z-index: 5;">
  <img src="https://i.imgur.com/ZjHytCs.png"
    class="sprite"
    data-name="Данк"
    data-description="Божественный художник"
    data-layer="6.5"
    data-x="0.569" data-y="0.330"
    data-info-x-offset="-500"
    data-info-y-offset="0"
    style="width: 340px; z-index: 6;">
  <img src="https://i.imgur.com/xPWD5i8.png"
    class="sprite"
    data-name="Белка"
    data-description="Чешет яйца деда"
    data-layer="4.5"
    data-x="0.870" data-y="0.450"
    data-info-x-offset="-200"
    data-info-y-offset="-50"
    style="width: 160px; z-index: 4;">
  <img src="https://i.imgur.com/wZCqAaT.png"
    class="sprite"
    data-name="Толик и Банан"
    data-description="Самые комфортные челики"
    data-layer="4.5"
    data-x="0.933" data-y="0.120"
    data-info-x-offset="-250"
    data-info-y-offset="-50"
    style="width: 125px; z-index: 4;">
  <img src="https://i.imgur.com/qpgvp6z.png"
    class="sprite"
    data-name="Ася"
    data-description="Будущая жена админа"
    data-layer="6.5"
    data-x="0.300" data-y="0.420"
    data-info-x-offset="0"
    data-info-y-offset="0"
    style="width: 180px; z-index: 6;">
  <img src="https://i.imgur.com/nusPFXU.png"
    class="sprite"
    data-name="Дед"
    data-description="а шо тут сказать"
    data-layer="6.5"
    data-x="0.210" data-y="0.395"
    data-info-x-offset="-50"
    data-info-y-offset="0"
    style="width: 275px; z-index: 6;">
  <img src="https://i.imgur.com/9m5iRwP.png"
    class="sprite"
    data-name="Никита"
    data-description="ФЫЖВФЫЗЖБФЩЗАЖФДЫАЖД"
    data-layer="6.5"
    data-x="0.685" data-y="0.745"
    data-info-x-offset="-500"
    data-info-y-offset="-50"
    style="width: 580px; z-index: 6;">
  <img src="https://i.imgur.com/8IbcEmp.png"
    class="sprite"
    data-name="Челка"
    data-description="Челка и в арктике челка"
    data-layer="6.5"
    data-x="0" data-y="0.670"
    data-info-x-offset="-50"
    data-info-y-offset="0"
    style="width: 250px; z-index: 6;">
  <div class="info-box" id="infoBox">
    <h3 id="info-name"></h3>
    <p id="info-description"></p>
  </div>
</div>
<script>
const sprites = document.querySelectorAll('.sprite');
const infoBox = document.getElementById('infoBox');
const infoName = document.getElementById('info-name');
const infoDescription = document.getElementById('info-description');
const container = document.querySelector('.container');
const layer1 = document.querySelector('.layer-1');

function updateSpritePosition(sprite) {
  const containerRect = container.getBoundingClientRect();
  const x = parseFloat(sprite.dataset.x) * containerRect.width;
  const y = parseFloat(sprite.dataset.y) * containerRect.height;
  sprite.style.left = x + 'px';
  sprite.style.top = y + 'px';
}

sprites.forEach(sprite => {
  updateSpritePosition(sprite);
  sprite.addEventListener('click', (event) => {
    event.stopPropagation();
    const spriteZIndex = parseInt(sprite.style.zIndex);
    infoBox.style.zIndex = 1000;
    infoName.textContent = sprite.dataset.name;
    infoDescription.textContent = sprite.dataset.description;

    // Смещения для infoBox
    const xOffset = parseFloat(sprite.dataset.infoXOffset) || 0;
    const yOffset = parseFloat(sprite.dataset.infoYOffset) || 0;

    infoBox.style.left = (sprite.offsetLeft + sprite.offsetWidth + 10 + xOffset) + 'px';
    infoBox.style.top = (sprite.offsetTop + yOffset) + 'px';

    infoBox.classList.add('active');
  });
});

function createComet() {
    const comet = document.createElement('div');
    comet.classList.add('comet');
    
    // Случайные параметры для кометы
    const startX = Math.random() * 100; 
    const duration = 5 + Math.random() * 5;
    const delay = Math.random() * 15;
    const angle = 15 + Math.random() * 5;

    comet.style.left = `${startX}%`;
    comet.style.animationDuration = `${duration}s`;
    comet.style.animationDelay = `${delay}s`;
    comet.style.transform = `rotate(${angle}deg)`;

    layer1.appendChild(comet);

    comet.addEventListener('animationend', () => {
        comet.remove();
    });
}
// Создание комет с интервалом
setInterval(createComet, 2000);

window.addEventListener('resize', () => {
  sprites.forEach(sprite => {
    updateSpritePosition(sprite);
  });
});

document.addEventListener('click', () => {
  infoBox.classList.remove('active');
});
</script>
</body>
</html>